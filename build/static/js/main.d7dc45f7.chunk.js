(this["webpackJsonpdaily-moments"]=this["webpackJsonpdaily-moments"]||[]).push([[1],{66:function(e,t,n){e.exports=n(96)},72:function(e,t,n){var a={"./ion-action-sheet.entry.js":[99,5],"./ion-alert.entry.js":[100,6],"./ion-app_8.entry.js":[101,7],"./ion-avatar_3.entry.js":[102,18],"./ion-back-button.entry.js":[103,19],"./ion-backdrop.entry.js":[104,43],"./ion-button_2.entry.js":[105,20],"./ion-card_5.entry.js":[106,21],"./ion-checkbox.entry.js":[107,22],"./ion-chip.entry.js":[108,23],"./ion-col_3.entry.js":[109,44],"./ion-datetime_3.entry.js":[110,10],"./ion-fab_3.entry.js":[111,24],"./ion-img.entry.js":[112,45],"./ion-infinite-scroll_2.entry.js":[113,46],"./ion-input.entry.js":[114,25],"./ion-item-option_3.entry.js":[115,26],"./ion-item_8.entry.js":[116,27],"./ion-loading.entry.js":[117,28],"./ion-menu_3.entry.js":[118,29],"./ion-modal.entry.js":[119,8],"./ion-nav_2.entry.js":[120,15],"./ion-popover.entry.js":[121,9],"./ion-progress-bar.entry.js":[122,30],"./ion-radio_2.entry.js":[123,31],"./ion-range.entry.js":[124,32],"./ion-refresher_2.entry.js":[125,11],"./ion-reorder_2.entry.js":[126,17],"./ion-ripple-effect.entry.js":[127,47],"./ion-route_4.entry.js":[128,33],"./ion-searchbar.entry.js":[129,34],"./ion-segment_2.entry.js":[130,35],"./ion-select_3.entry.js":[131,36],"./ion-slide_2.entry.js":[132,48],"./ion-spinner.entry.js":[133,13],"./ion-split-pane.entry.js":[134,49],"./ion-tab-bar_2.entry.js":[135,37],"./ion-tab_2.entry.js":[136,16],"./ion-text.entry.js":[137,38],"./ion-textarea.entry.js":[138,39],"./ion-toast.entry.js":[139,40],"./ion-toggle.entry.js":[140,12],"./ion-virtual-scroll.entry.js":[141,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=72,e.exports=r},74:function(e,t,n){var a={"./ion-icon.entry.js":[145,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=74,e.exports=r},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(62),r=n(1),l=n.n(r),c=n(35),o=n.n(c),i=n(2),u=n(58),s=n(17),m=n(10),d=n(60),p=(n(79),n(81),n(97),d.a.initializeApp({apiKey:"AIzaSyDKrJj2I8V7LRmlfySYrhZyO30OhVmso0Q",authDomain:"daily-moments-23ff2.firebaseapp.com",databaseURL:"https://daily-moments-23ff2.firebaseio.com",projectId:"daily-moments-23ff2",storageBucket:"daily-moments-23ff2.appspot.com",messagingSenderId:"149637179187",appId:"1:149637179187:web:86c5de45b1c0578b73c046"})),E=p.auth(),f=p.firestore(),b=p.storage(),g=l.a.createContext({loggedIn:!1});function j(){return Object(r.useContext)(g)}var v=n(16),h=n(61);function y(e){return Object(h.a)({id:e.id},e.data())}var O=function(e){var t=n(83)(e);return t.toISOString(),t.format("MMM-DD-YYYY")},k=function(){var e=j().userId,t=Object(r.useState)([]),n=Object(m.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){return f.collection("users").doc(e).collection("entries").orderBy("date","desc").limit(7).onSnapshot((function(e){var t=e.docs;return c(t.map(y))}))}),[e]),l.a.createElement(i.t,null,l.a.createElement(i.l,null,l.a.createElement(i.D,null,l.a.createElement(i.C,null,"My Home"))),l.a.createElement(i.h,{className:"ion-padding"},l.a.createElement(i.r,null,a.map((function(e){return l.a.createElement(i.p,{button:!0,key:e.id,routerLink:"/my/entries/view/".concat(e.id)},l.a.createElement(i.B,{slot:"end"},l.a.createElement(i.n,{src:e.pictureUrl})),l.a.createElement(i.q,null,l.a.createElement("h2",null,O(e.date),":")," ",l.a.createElement("h3",null,e.title)))}))),l.a.createElement(i.j,{vertical:"bottom",horizontal:"end",slot:"fixed"},l.a.createElement(i.k,{routerLink:"/my/entries/add"},l.a.createElement(i.m,{icon:v.a})))))},x=n(38),S=n.n(x),C=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),o=Object(m.a)(c,2),u=o[0],s=o[1],d=Object(r.useState)(""),p=Object(m.a)(d,2);p[0],p[1];return l.a.createElement(i.t,null,l.a.createElement(i.l,null,l.a.createElement(i.D,null,l.a.createElement(i.C,null,"My Settings"))),l.a.createElement(i.h,{className:"ion-padding"},l.a.createElement(i.e,null,l.a.createElement(i.g,null,l.a.createElement(i.z,null,"Stopwatch")),l.a.createElement(i.f,null,l.a.createElement(i.c,{onClick:function(){var e=S()();console.log("Time In: ",e),a(e.toISOString())}},"Time In"),l.a.createElement(i.c,{onClick:function(){var e=S()();console.log("Time Out: ",e),s(e.toISOString())},color:"danger"},"Time Out"),l.a.createElement(i.c,{onClick:function(){var e=S()(n),t=S()(u).diff(e);console.log(t/1e3,"Second")},color:"secondary"},"Save Time"))),l.a.createElement(i.c,{color:"medium",expand:"block",onClick:function(){return E.signOut()}},"Logout")))},w=n(6),I=n.n(w),_=n(15),D=function(){var e=j().userId,t=Object(s.g)().params.id,n=Object(r.useState)(),a=Object(m.a)(n,2),c=a[0],o=a[1],u=Object(s.f)(),d=Object(r.useState)(null===c||void 0===c?void 0:c.title),p=Object(m.a)(d,2),E=p[0],b=p[1],g=Object(r.useState)(null===c||void 0===c?void 0:c.description),h=Object(m.a)(g,2),k=h[0],x=h[1];Object(r.useEffect)((function(){f.collection("users").doc(e).collection("entries").doc(t).get().then((function(e){o(y(e))}))}),[e,t]);var S=function(){var t=Object(_.a)(I.a.mark((function t(){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.collection("users").doc(e).collection("entries").doc(c.id),t.next=3,n.delete().then((function(){console.log("Deleted!")}));case 3:u.goBack();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Object(_.a)(I.a.mark((function t(){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.collection("users").doc(e).collection("entries").doc(c.id),t.next=3,n.update({title:E,description:k});case 3:t.sent,u.goBack();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l.a.createElement(i.t,null,l.a.createElement(i.l,null,l.a.createElement(i.D,null,l.a.createElement(i.d,{slot:"start"},l.a.createElement(i.b,null)),l.a.createElement(i.C,null,O(null===c||void 0===c?void 0:c.date)),l.a.createElement(i.c,{slot:"end",onClick:S,routerLink:"/my/entries",fill:"clear"},l.a.createElement(i.m,{icon:v.q})))),l.a.createElement(i.h,{className:"ion-padding"},l.a.createElement("h2",null,null===c||void 0===c?void 0:c.title),l.a.createElement("img",{src:null===c||void 0===c?void 0:c.pictureUrl,alt:null===c||void 0===c?void 0:c.title}),l.a.createElement("p",null,null===c||void 0===c?void 0:c.description),l.a.createElement(i.r,null,l.a.createElement(i.p,null,l.a.createElement(i.o,{placeholder:null===c||void 0===c?void 0:c.title,value:E,onIonChange:function(e){var t;return b(null!==(t=e.detail.value)&&void 0!==t?t:null===c||void 0===c?void 0:c.title)}})),l.a.createElement(i.p,null,l.a.createElement(i.o,{placeholder:null===c||void 0===c?void 0:c.description,value:k,onIonChange:function(e){var t;return x(null!==(t=e.detail.value)&&void 0!==t?t:null===c||void 0===c?void 0:c.description)}}))),l.a.createElement(i.c,{expand:"full",type:"submit",onClick:C}," ","SAVE"," ")))};function L(e,t){return U.apply(this,arguments)}function U(){return(U=Object(_.a)(I.a.mark((function e(t,n){var a,r,l,c,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.ref("/users/".concat(n,"/pictures/").concat(Date.now())),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.blob();case 6:return l=e.sent,e.next=9,a.put(l);case 9:return c=e.sent,e.next=12,c.ref.getDownloadURL();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(){var e=j().userId,t=Object(s.f)(),n=Object(r.useState)(""),a=Object(m.a)(n,2),c=a[0],o=a[1],u=Object(r.useState)(""),d=Object(m.a)(u,2),p=d[0],E=d[1],b=Object(r.useState)(""),g=Object(m.a)(b,2),v=g[0],h=g[1],y=Object(r.useState)("/assets/placeholder.png"),O=Object(m.a)(y,2),k=O[0],x=O[1],S=Object(r.useRef)();Object(r.useEffect)((function(){return function(){k.startsWith("blob:")&&URL.revokeObjectURL(k)}}),[k]);var C=function(){var n=Object(_.a)(I.a.mark((function n(){var a,r;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=f.collection("users").doc(e).collection("entries"),r={description:v,title:p,date:c,pictureUrl:k},!k.startsWith("blob:")){n.next=6;break}return n.next=5,L(k,e);case 5:r.pictureUrl=n.sent;case 6:return n.next=8,a.add(r);case 8:n.sent,t.goBack();case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return l.a.createElement(i.t,null,l.a.createElement(i.l,null,l.a.createElement(i.D,null,l.a.createElement(i.d,{slot:"start"},l.a.createElement(i.b,null)),l.a.createElement(i.C,null," Adding Entries "))),l.a.createElement(i.h,{className:"ion-padding"},l.a.createElement(i.r,null,l.a.createElement(i.p,null,l.a.createElement(i.i,{value:c,onIonChange:function(e){return o(e.detail.value)},placeholder:"Date: "})),l.a.createElement(i.p,null,l.a.createElement(i.o,{type:"text",value:p,onIonChange:function(e){return E(e.detail.value)},placeholder:"Title: "})),l.a.createElement(i.p,null,l.a.createElement(i.q,{position:"stacked"},"Picture")," ",l.a.createElement("br",null),l.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){if(e.target.files.length>0){var t=e.target.files.item(0),n=URL.createObjectURL(t);console.log("Created URL:",n),x(n)}},ref:S,hidden:!0}),l.a.createElement("img",{onClick:function(){return S.current.click()},src:k,alt:"placeholder",style:{cursor:"pointer"}})),l.a.createElement(i.p,null,l.a.createElement(i.A,{value:v,onIonChange:function(e){return h(e.detail.value)},placeholder:"Description"}))),l.a.createElement(i.c,{expand:"full",type:"submit",onClick:C}," ","SAVE"," ")))},N=function(){return j().loggedIn?l.a.createElement(i.y,null,l.a.createElement(i.v,null,l.a.createElement(s.b,{exact:!0,path:"/my/entries"},l.a.createElement(k,null)),l.a.createElement(s.b,{exact:!0,path:"/my/entries/add"},l.a.createElement(A,null)),l.a.createElement(s.b,{exact:!0,path:"/my/entries/view/:id"},l.a.createElement(D,null)),l.a.createElement(s.b,{exact:!0,path:"/my/settings"},l.a.createElement(C,null))),l.a.createElement(i.w,{slot:"bottom"},l.a.createElement(i.x,{tab:"home",href:"/my/entries"},l.a.createElement(i.m,{icon:v.i}),l.a.createElement(i.q,null,"Home")),l.a.createElement(i.x,{tab:"settings",href:"/my/settings"},l.a.createElement(i.m,{icon:v.p}),l.a.createElement(i.q,null,"Settings")))):l.a.createElement(s.a,{to:"/login"})},R=function(){var e=Object(r.useState)({Err:""}),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),o=Object(m.a)(c,2),u=o[0],d=o[1],p=Object(r.useState)(""),f=Object(m.a)(p,2),b=f[0],g=f[1],v=Object(r.useState)({loading:!1,error:!1}),h=Object(m.a)(v,2),y=h[0],O=h[1],k=j().loggedIn,x=function(){var e=Object(_.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O({loading:!0,error:!1}),e.next=4,E.signInWithEmailAndPassword(u,b);case 4:t=e.sent,console.log("credential",t),e.next=16;break;case 8:e.prev=8,e.t0=e.catch(0),O({loading:!1,error:!0}),console.log("Incorrect email or password!"),console.log("error: ",e.t0),console.log("Error from",e.t0.message),a({Err:"".concat(e.t0.message)}),console.log("Error Code is: "+n.Err);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return k?l.a.createElement(s.a,{to:"/my/entries"}):l.a.createElement(i.t,null,l.a.createElement(i.l,null,l.a.createElement(i.D,null,l.a.createElement(i.C,null,"Login 241120202200"))),l.a.createElement(i.h,{className:"ion-padding"},l.a.createElement(i.r,null,l.a.createElement(i.p,null,l.a.createElement(i.o,{placeholder:"Email",type:"email",value:u,onIonChange:function(e){return d(e.detail.value)}})),l.a.createElement(i.p,null,l.a.createElement(i.o,{placeholder:"password",type:"password",value:b,onIonChange:function(e){return g(e.detail.value)}})),y.error&&l.a.createElement(i.p,null,l.a.createElement(i.z,{color:"danger"},n.Err))),l.a.createElement(i.c,{expand:"block",onClick:x},"Login"),l.a.createElement(i.c,{expand:"block",fill:"clear",routerLink:"/register"},"Create Account")),l.a.createElement(i.s,{isOpen:y.loading}))},P=function(){return l.a.createElement(i.t,null,l.a.createElement(i.h,{className:"ion-padding"},"Page not found."))},T=function(){var e=Object(r.useState)({Err:""}),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),o=Object(m.a)(c,2),u=o[0],d=o[1],p=Object(r.useState)(""),f=Object(m.a)(p,2),b=f[0],g=f[1],v=Object(r.useState)({loading:!1,error:!1}),h=Object(m.a)(v,2),y=h[0],O=h[1],k=j().loggedIn,x=function(){var e=Object(_.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O({loading:!0,error:!1}),e.next=4,E.createUserWithEmailAndPassword(u,b);case 4:t=e.sent,console.log("credential",t),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),O({loading:!1,error:!0}),console.log("error: ",e.t0),a({Err:"".concat(e.t0.message)});case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return k?l.a.createElement(s.a,{to:"/my/entries"}):l.a.createElement(i.t,null,l.a.createElement(i.l,null,l.a.createElement(i.D,null,l.a.createElement(i.C,null,"Registration Page"))),l.a.createElement(i.h,{className:"ion-padding"},l.a.createElement(i.r,null,l.a.createElement(i.p,null,l.a.createElement(i.o,{placeholder:"Email",type:"email",value:u,onIonChange:function(e){return d(e.detail.value)}})),l.a.createElement(i.p,null,l.a.createElement(i.o,{placeholder:"password",type:"password",value:b,onIonChange:function(e){return g(e.detail.value)}})),y.error&&l.a.createElement(i.p,null,l.a.createElement(i.z,{color:"danger"},n.Err))),l.a.createElement(i.c,{expand:"block",onClick:x},"Create Account"),l.a.createElement(i.c,{expand:"block",fill:"clear",routerLink:"/login"},"Already have account?")),l.a.createElement(i.s,{isOpen:y.loading}))},B=function(){var e=function(){var e=Object(r.useState)({loading:!0}),t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){return E.onAuthStateChanged((function(e){var t=e?{loggedIn:!0,userId:e.uid}:{loggedIn:!1};a({loading:!1,auth:t})}))}),[]),n}(),t=e.loading,n=e.auth;return t?l.a.createElement(i.s,{isOpen:!0}):(console.log("Rendering app with auth:",n),l.a.createElement(i.a,null,l.a.createElement(g.Provider,{value:n},l.a.createElement(u.a,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/login"},l.a.createElement(R,null)),l.a.createElement(s.b,{exact:!0,path:"/register"},l.a.createElement(T,null)),l.a.createElement(s.b,{path:"/my"},l.a.createElement(N,null)),l.a.createElement(s.a,{exact:!0,path:"/",to:"/my/entries"}),l.a.createElement(s.b,null,l.a.createElement(P,null)))))))},M=(n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),a.a.SplashScreen);o.a.render(l.a.createElement(B,null),document.getElementById("root")),M.hide()}},[[66,3,4]]]);
//# sourceMappingURL=main.d7dc45f7.chunk.js.map